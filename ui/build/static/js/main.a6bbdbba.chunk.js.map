{"version":3,"sources":["serviceWorker.js","libasync.js","libcookies.js","App.js","index.js","logo.svg"],"names":["Boolean","window","location","hostname","match","unregister","navigator","serviceWorker","ready","then","registration","catch","error","console","message","ajax","method","url","bodyArgs","getArgs","headers","retorno","response","status","json","string","onload","send","a","Promise","resolve","JSON","stringify","XMLHttpRequest","onloadend","this","responseText","parse","e","setTimeout","params","URLSearchParams","toString","open","k","setRequestHeader","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","name","ca","split","i","length","c","charAt","substring","indexOf","host","consulta","libasync","Authorization","Form","props","state","value","parent","handleChange","bind","handleSubmit","event","setState","target","res","token","logeado","user","libcookies","alert","type","onChange","onClick","React","Component","FormPartida","cruces","circulos","estado","partida","id","joined","placeholder","Board","move","youAre","yourRivalName","yourRival","board","turno","darpresente","hilo","clearInterval","setInterval","presente","final","winner","turn","players","circle","cross","consulta2","game","updateState","y","getAttribute","x","parseInt","elems","style","width","height","push","pos","App","getUser","className","global","partidas","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.a6bbdbba.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export function ajax (method=\"post\",url=\"\",bodyArgs={},getArgs={},headers={}){\n\tvar retorno={};\n\tretorno.method=method;\n\tretorno.url=url;\n\tretorno.bodyArgs=bodyArgs;\n\tretorno.getArgs=getArgs;\n\tretorno.headers=headers;\n\tretorno.response={status:0,json:null,string:null};\n\tretorno.onload=null;\n\tretorno.send=async function (){\n\t\treturn new Promise(resolve =>{\n\t\t\tvar json = JSON.stringify(retorno.bodyArgs);\n\t\t\tvar ajax = new XMLHttpRequest();\n\t\t\tvar promesa=this;\n\t\t\tajax.onloadend=function(){\n\t\t\t\tretorno.response.status=this.status;\n\t\t\t\tretorno.response.string=this.responseText;\n\t\t\t\ttry {\n\t\t\t\t\tretorno.response.json=JSON.parse(this.responseText);\n\t\t\t\t}\n\t\t\t\tcatch (e){\n\t\t\t\t\tretorno.response.json=null\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (typeof  retorno.onload==\"function\"){\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(function (){retorno.onload(retorno)},50);\n\t\t\t\t}\n\t\t\t\tresolve(retorno.response);\n\t\t\t}\n\t\t\tvar params =new URLSearchParams(retorno.getArgs).toString();\n\t\t\tif (params)params=\"?\"+params;\n\t\t\tajax.open( retorno.method,  retorno.url+params, true );\n\t\t\tif (retorno.headers){\n\t\t\t\tfor (var k in retorno.headers){\n\t\t\t\t\tajax.setRequestHeader(k,retorno.headers[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tajax.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n\t\t\n\t\t\tajax.send( JSON.stringify(retorno.bodyArgs) );\n\t\t})\n\t}\n\treturn retorno;\n}\nexport function loadImage(src){\n\treturn new Promise(function (resolve){\n\t\tvar img=new Image();\n\t\timg.onload=function (){\n\t\t\tresolve(this);\n\t\t}\n\t\timg.onerror=function (){\n\t\t\t\n\t\t\tresolve(null);\n\t\t}\n\t\timg.src=src;\n\t\n\t});\n}\n\n\n","\nexport function setCookie(cname, cvalue, exdays) {\n  var d = new Date();\n  d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n  var expires = \"expires=\"+d.toUTCString();\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport function getCookie(cname) {\n  var name = cname + \"=\";\n  var ca = document.cookie.split(';');\n  for(var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n}\n\n\n\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport * as libasync from \"./libasync.js\"\nimport * as libcookies from \"./libcookies.js\"\n//--globals var\nvar host=\"http://\"+window.location.hostname+\":3001\";\nvar consulta=libasync.ajax();\nconsulta.method=\"post\";\nconsulta.headers.Authorization=\"\";\n//--classes react \n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''};\n    this.parent=props.parent;\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n  async handleSubmit(event) {\n  \tconsulta.url=host+\"/login\";\n  \tconsulta.method=\"post\";\n  \tconsulta.bodyArgs={name:this.state.value};\n  \tvar res=await consulta.send();\n  \tif (res.status==200 && res.json){\n  \t\tconsulta.headers.Authorization=res.json.token;\n  \t\tthis.parent.setState({logeado:true,user:res.json.name});\n  \t\tlibcookies.setCookie(\"token\",res.json.token,1);\n  \t}\n  \telse if (res.status==400){\n  \t\talert(\"El nombre solo debe tener caracteres alfabeticos,con un min 5 y un max de 10\");\n  \t}\t\n  }\n\n  render() {\n  \tif (!this.parent.state.logeado){\n\t\t  return (\n\t\t    <div  >\n\t\t      <label>\n\t\t        Name:\n\t\t        <input type=\"text\" value={this.state.value} onChange={this.handleChange} />\n\t\t      </label>\n\t\t      <button onClick={this.handleSubmit}>\n  \t\t\t\t\tEnviar\n\t      \t</button>\n\t\t    </div>\n\t\t  )\n    }\n    else return (null);\n  }\n}\nclass FormPartida extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t \tthis.state = {value: ''};\n    this.parent=props.parent;\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    \n\t}\n\thandleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\tasync handleSubmit(event) {\n  \tconsulta.url=host+\"/play\";\n  \tconsulta.method=\"post\";\n  \tconsulta.bodyArgs.name=this.state.value;\n  \tthis.parent.setState({cruces:\"\",circulos:\"\",estado:\"\"});\n  \tvar res=await consulta.send();\n  \tif (res.status==200 && res.json){\n  \t\tthis.parent.partida=res.json.id;\n  \t\t\n  \t\tthis.parent.setState({joined:true});\n  \t}\n  \telse if (res.status==401){\n  \t\tthis.parent.setState({logeado:false});\n  \t}\t\n  }\n\trender (){\n\t\tif (!this.parent.state.logeado)return (null);\n\t\treturn (\n\t\t\t<div>\n\t      <label>\n\t        <input placeholder=\"mate\" \n\t        type=\"text\" value={this.state.value} onChange={this.handleChange} />\n\t      </label>\n\t      <button onClick={this.handleSubmit}>\n  \t\t\t\t\tEnviar\n      \t</button>\n\t    </div>\n\t\t);\n\t}\n}\nclass Board extends React.Component {\n\tconstructor(props) {\n    super(props);\n    this.parent=props.parent;\n    this.move = this.move.bind(this)\n    this.state={\n    \t youAre:\"\",\n\t\t   yourRivalName:\"\",\n\t\t   yourRival:\"\",\n\t\t   board:\"---------\",\n\t\t   estado:\"\"\n  \t};\n  \tthis.turno=0;\n    this.darpresente=true;\n    if (this.parent.hilo)clearInterval(this.parent.hilo);\n    this.parent.hilo=setInterval(()=>{this.presente()},1000);\n\t}\n\tupdateState(json){\n\t\tvar final=json.winner? <div>Gano {json.winner}</div>:\"\";\n\t\tif (!final && 9<=json.turn)final=<div>Empate</div>;\n\t\tthis.turno=json.turn;\n\t\tvar youAre=\"X\";\n\t\tif (json.players.circle==json.players.cross){\n\t\t\tyouAre=\"X y O\";\n\t\t}\n\t\telse if (json.players.circle==this.parent.state.user){\n\t\t\tyouAre=\"O\";\n\t\t}\n\t\tthis.setState({\n\t\t\tyouAre:youAre,\n\t\t\tboard:json.board,\n\t\t\tyourRival:json.players.circle==this.parent.state.user? 'X' : 'O',\n\t\t\tyourRivalName:json.players.circle==this.parent.state.user?json.players.cross:json.players.circle,\n\t\t\testado:final\n\t\t\t\n\t\t});\n\t}\n\tasync presente(event){\n\t\tif (this.parent.state.joined==false)return;\n\t\tif (this.darpresente===false) {\n\t\t\tthis.darpresente=true;\n\t\t\treturn;\n\t\t}\n\t\tvar consulta2=libasync.ajax();\n\t\tconsulta2.headers=consulta.headers;\n\t\tconsulta2.method=\"put\";\n\t\tconsulta2.bodyArgs={game:this.parent.partida};\n\t\tconsulta2.url=host+\"/present\";\n  \tvar res=await consulta2.send();\n  \tif (res.status==200 && res.json){\n  \t\tthis.updateState(res.json);\n  \t}\n\t}\n\tasync move(event){\n\t\tvar y=event.target.getAttribute(\"pos\")*1;\n\t\tvar x=y%3;\n\t\ty=parseInt(y/3);\n\t\tthis.darpresente=false;\n\t\tconsulta.method=\"put\";\n\t\tconsulta.url=host+\"/move\";\n  \tconsulta.bodyArgs={game:this.parent.partida,x:x,y:y};\n  \tvar res=await consulta.send();\n  \tvar turno=this.turno;\n  \tif (res.status==200 && res.json){\n  \t\tthis.darpresente=false;\n  \t\tthis.updateState(res.json);\n  \t\tif (turno==this.turno && res.json.winner==\"\" && this.turno<9 && this.state.yourRivalName){\n  \t\t\tif (res.json.players.circle==res.json.players.cross){\n  \t\t\t\tthis.setState({estado:<div>Esa casilla esta ocupada</div>})\n  \t\t\t}\n  \t\t\telse if (turno%2==0 && this.state.youAre==\"X\"){\n  \t\t\t\tthis.setState({estado:<div>Esa casilla esta ocupada</div>});\n  \t\t\t}\n  \t\t\telse if (turno%2==1 && this.state.youAre==\"O\"){\n  \t\t\t\tthis.setState({estado:<div>Esa casilla esta ocupada</div>});\n  \t\t\t}\n  \t\t\telse {\n  \t\t\t\tthis.setState({estado:<div>No es tu turno</div>});\n  \t\t\t}\n  \t\t}\n  \t}\n  \telse if (res.status==401){\n  \t\t\n  \t}\t\n\t}\n\trender (){\n\t\tif (!this.parent.state.logeado || !this.parent.state.joined)return (null);\n\t\tvar elems=[];\n\t\tvar style={width:100,height:100};\n\t\tfor (var i=0;i<9;i++){\n\t\t\tif (i%3===0){\n\t\t\t\telems.push(<br/>);\n\t\t\t}\n\t\t\telems.push(\n\t\t\t\t<button style={style} pos={i} onClick={this.move}> \n\t\t\t\t\t{this.state.board[i]} \n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div>\n\t\t\tEres:\n\t\t\t{this.state.youAre}<br/>\n\t\t\tJuegas contra:{this.state.yourRivalName}<br/>\n\t\t\t{this.state.estado}\n\t\t\t{elems}\n\t\t\t</div>\n\t\t);\n\t}\n}\nclass App extends React.Component {\n\tconstructor(props) {\n    super(props);\n    this.state = {\n     logeado:false,\n     user:\"\",\n     joined:false,\n    };\n  \tthis.getUser();\n\t}\n\tasync getUser(){\n\t\tconsulta.headers.Authorization=libcookies.getCookie(\"token\");\n\t\tconsulta.method=\"get\";\n  \tconsulta.url=host+\"/user\";\n  \tvar res=await consulta.send();\n  \tif (res.status==200 && res.json){\n  \t\tthis.setState({user:res.json.name,logeado:true});\n  \t}\n  \telse if (res.status==401){\n  \t\t\n  \t}\n\t}\n  render() {\n  \treturn (\n\t\t  <div className=\"App\">\n\t\t    <header className=\"App-header\">\n\t\t    <h2>{this.state.user}</h2>\n\t\t    \t<Form \n\t\t    \t\tparent={this}\n    \t\t\t/>\n\t\t    \t<FormPartida parent={this} />\n\t\t      <Board parent={this}/>\n\t\t    </header>\n\t\t  </div>\n\t\t);\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nglobal.partidas={};\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}